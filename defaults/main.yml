
# Default variables for firewall role

# Define the default network interface dynamically
default_interface: "{{ ansible_facts['default_ipv4']['interface'] }}"

# Define the default firewall backend
firewall_backend: nftables

# Firewall configuration defaults (base map)
firewall_defaults:
  enabled: true
  backend: "{{ firewall_backend }}"
  backend_packages:
    nftables:
      - nftables
    iptables2:
      - iptables
      - iptables-persistent

  inbound:
    default_policy: 'drop'
    rules: []
     # { action: 'accept', protocol: 'tcp', dport: 22, interface: '{{ default_interface }}' }

  outbound:
    default_policy: 'accept'
    rules: []

  forwarded:
    default_policy: 'drop'
    rules: []

  nat:
    prerouting: []
    postrouting: []

# User-provided firewall overrides (merged with firewall_defaults in tasks/main.yml)
firewall: {}
